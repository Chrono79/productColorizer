(function($){$.fn.productColorizer=function(i){var j={transparency:0.55,swatchTransparency:0.75,swatchClass:'.swatch'};var i=$.extend(j,i);return this.each(function(){var o=i;var f=$(this);var g=f.find(o.swatchClass);var h=f.find(o.swatchClass+" a");$(h).each(function(){var a="rgba("+$(this).attr('rel')+","+o.swatchTransparency+")";$(this).find('span').css('background',a);if($.browser.msie){a=$(this).attr('rel');var b=a.split(",");a="#"+colorToHex(b);$(this).find('span').css({'background-color':a})}});$(h).click(function(e){e.preventDefault();$(h).removeClass('active');$(this).addClass('active');var a="rgba("+$(this).attr('rel')+","+o.transparency+")";var b=$(this).attr('href');$(b).css({"background-color":a},1000);if($.browser.msie){a=$(this).attr('rel');var c=a.split(",");a=colorToHex(c);$(b).css({'background':'transparent','zoom':1,'filter':'progid:DXImageTransform.Microsoft.gradient(startColorstr=#80'+a+',endColorstr=#80'+a+')'})}});$(h).hover(function(e){e.preventDefault();var a=$(this).offset().left-$(g).offset().left;var b=$(this).offset().top-$(g).offset().top+25;var c=$(this).attr('title');if(!$.browser.msie)$(this).removeAttr('title');$(this).after('<div class="colorizer-tooltip"><div class="colorizer-pointer-up"><div class="colorizer-pointer-up-inner"></div></div><span class="colorizer-tooltip-text">'+c+'</span></div>');var d=($('.colorizer-tooltip').width()/2)-12;$('.colorizer-tooltip').css({'left':a-d,'top':b})},function(){var a=$('.colorizer-tooltip-text').html();$(this).attr('title',a);$(".colorizer-tooltip").remove()});function colorToHex(a){var b=parseInt(a[0]);var c=parseInt(a[1]);var d=parseInt(a[2]);var e=d|c|b;return e.toString(16)}})}})(jQuery);